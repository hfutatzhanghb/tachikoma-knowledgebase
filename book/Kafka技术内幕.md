- [1] Kafka的功能
  - 数据注入 (事件的发布和订阅)
    - 队列模式: 每个消息只发送给一个消费者
    - 发布/订阅模式: 每个消息发布给所有的消费者
  - 数据存储 (存储节点的故障容错)
  - 流处理 (聚合/连接/转换/...)
- [3] 分区模型
  - 一个主题对应多个分区, 分区的偏移量独自维护
  - [62] 一个分区只能被消费组中一个消费者所消费
    - 一个消费组中, 一个消费者可以同时消费多个分区
    - 一个消费组中, 不同消费者一定消费不同分区
  - [65] 分区的消费进度: 虽然是 消费者 消费分区, 但进度是以 消费者组 进行保存, 以便再平衡
- [5] 清理策略
  - 消费完清理, 则需跟踪消费状态
  - 按时间清理 (Kafka)
- [5] 分布式模型
  - Leader负责所有读写
  - Follower仅做数据冗余
- [9] 生产者/消费者的通信模型
  - 推
    - 需处理不同消费者之间的速度差
    - 需可信的进行 元信息 持久化
  - 拉 (Kafka)
    - 轮询成本高 -> 使用长阻塞式通信
- [11] 消息冗余: 消息多写到ISR集合 (数据同步的节点集合) 后, 才认为被提交
- [35 - 42]: NIO代码样例详解 (推荐)
- [214] 消费者加入集群的协调过程: 
  1. 消费者->协调者: 变更信息
  2. 协调者: 收集 所有消费者的信息
  3. 协调者->主消费者: 执行任务分配算法, 将不同分区分配给不同消费者
  4. 协调者->消费者: 返回分配结果
